{% style %}
  .founder {
    /* background: url("{{ 'founder.png' | asset_url }}") no-repeat; */
    /* background-position: center;
    background-size: cover; */
  }
  .founder .desc,
  .founder h2,
  .founder .label{
    transform: translateY(0%);
    opacity: 1;
    transition: all 200ms ease;
  }
  .founder.active .desc,
  .founder.active h2,
  .founder.active .label{
    transform: translateY(50%);
    opacity: 0;
  }
{% endstyle %}

<video loop playsinline poster="{{ 'founder_cover.png' | asset_url }}">
  <source src="{{ 'founder_vid.mp4' | asset_url }}" type="video/mp4">
  Your browser does not support the video tag.
</video>
<div class="container">
  <span class="label"> {{section.settings.label}} </span>
  <h2>
    {{ section.settings.title }}
  </h2>
  <div class="bottom">
    <div class="desc">
      {{ section.settings.desc }}
    </div>
    <div class="wrap">
      <button class="btn-play">
        <svg id="play" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
          <path
            d="M8 4C8.24493 4.00003 8.48134 4.08996 8.66437 4.25272C8.84741 4.41547 8.96434 4.63975 8.993 4.883L9 5V19C8.99972 19.2549 8.90212 19.5 8.72715 19.6854C8.55218 19.8707 8.31305 19.9822 8.05861 19.9972C7.80416 20.0121 7.55362 19.9293 7.35817 19.7657C7.16271 19.6021 7.0371 19.3701 7.007 19.117L7 19V5C7 4.73478 7.10536 4.48043 7.29289 4.29289C7.48043 4.10536 7.73478 4 8 4ZM16 4C16.2449 4.00003 16.4813 4.08996 16.6644 4.25272C16.8474 4.41547 16.9643 4.63975 16.993 4.883L17 5V19C16.9997 19.2549 16.9021 19.5 16.7272 19.6854C16.5522 19.8707 16.313 19.9822 16.0586 19.9972C15.8042 20.0121 15.5536 19.9293 15.3582 19.7657C15.1627 19.6021 15.0371 19.3701 15.007 19.117L15 19V5C15 4.73478 15.1054 4.48043 15.2929 4.29289C15.4804 4.10536 15.7348 4 16 4Z"
            fill="#332717" />
        </svg>
        <svg id="pause" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M21.7875 10.7334L8.28 2.47029C8.05227 2.33084 7.79144 2.25471 7.52445 2.24977C7.25746 2.24482 6.99399 2.31124 6.76125 2.44217C6.53073 2.57106 6.3387 2.75902 6.2049 2.98673C6.07111 3.21445 6.00039 3.47368 6 3.73779V20.2622C6.00174 20.6583 6.16072 21.0376 6.442 21.3166C6.72328 21.5956 7.10383 21.7515 7.5 21.75C7.77652 21.7499 8.04767 21.6736 8.28375 21.5297L21.7875 13.2665C22.0046 13.1342 22.1839 12.9483 22.3084 12.7267C22.4329 12.5051 22.4983 12.2551 22.4983 12.0009C22.4983 11.7467 22.4329 11.4968 22.3084 11.2751C22.1839 11.0535 22.0046 10.8676 21.7875 10.7353V10.7334ZM7.5 20.2444V3.74998L20.9841 12L7.5 20.2444Z" fill="#332717"/>
        </svg>
      </button>
      {% comment %} <a href="{{ section.settings.cta_url }}" class="btn --outline">
        <span> {{ section.settings.cta_title }} </span>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
          <path
            d="M20.7806 12.5306L14.0306 19.2806C13.8899 19.4213 13.699 19.5003 13.5 19.5003C13.301 19.5003 13.1101 19.4213 12.9694 19.2806C12.8286 19.1398 12.7496 18.949 12.7496 18.7499C12.7496 18.5509 12.8286 18.36 12.9694 18.2193L18.4397 12.7499H3.75C3.55109 12.7499 3.36032 12.6709 3.21967 12.5303C3.07902 12.3896 3 12.1988 3 11.9999C3 11.801 3.07902 11.6103 3.21967 11.4696C3.36032 11.3289 3.55109 11.2499 3.75 11.2499H18.4397L12.9694 5.78055C12.8286 5.63982 12.7496 5.44895 12.7496 5.24993C12.7496 5.05091 12.8286 4.86003 12.9694 4.7193C13.1101 4.57857 13.301 4.49951 13.5 4.49951C13.699 4.49951 13.8899 4.57857 14.0306 4.7193L20.7806 11.4693C20.8504 11.539 20.9057 11.6217 20.9434 11.7127C20.9812 11.8038 21.0006 11.9014 21.0006 11.9999C21.0006 12.0985 20.9812 12.1961 20.9434 12.2871C20.9057 12.3782 20.8504 12.4609 20.7806 12.5306Z"
            fill="currentColor" />
        </svg>
      </a> {% endcomment %}
    </div>
  </div>
</div>

<script>
   {% comment %} $('#shopify-section-{{section.id}} .btn-play').on('click', function () {
      event.stopPropagation();
      var vid = $('#shopify-section-{{section.id}} video')[0];
      var playIco = event.currentTarget.querySelector('#play')
      var pauseIco = event.currentTarget.querySelector('#pause')
      if(vid.paused){
        pauseIco.style.display = 'none'
        playIco.style.display = 'block'
        vid.play()
      }else{
        playIco.style.display = 'none'
        pauseIco.style.display = 'block'
        vid.pause()
      }
    }); {% endcomment %}

    $('#shopify-section-{{section.id}} .btn-play').on('click', function (event) {
      event.stopPropagation();
      var vid = $('#shopify-section-{{section.id}} video')[0];
      var playIco = event.currentTarget.querySelector('#play');
      var pauseIco = event.currentTarget.querySelector('#pause');
      var founder = $('#shopify-section-{{section.id}}');

      if (vid.paused) {
        pauseIco.style.display = 'block';
        playIco.style.display = 'none';
        vid.play();
        founder.addClass('active'); 
      } else {
        playIco.style.display = 'block';
        pauseIco.style.display = 'none';
        vid.pause();
        founder.removeClass('active');
      }
    });

</script>

{% schema %}
{
  "name": "Founder",
  "tag": "section",
  "class": "founder",
  "settings": [
    {
      "type": "header",
      "content": "Label"
    },
    {
      "type": "text",
      "id": "label",
      "label": "Section label",
      "default": "FOUNDER STORY"
    },
    {
      "type": "header",
      "content": "Title"
    },
    {
      "type": "textarea",
      "id": "title",
      "label": "Section title",
      "default": "<span> Meet the Founder â€” </span><span> Feenie Khan </span>",
      "info": "Wrap alternate font with <span>"
    },
    {
      "type": "header",
      "content": "Description"
    },
    {
      "type": "richtext",
      "id": "desc",
      "label": "Section description",
      "default": "<p>Founded by Feenie Khan, a British-Pakistani entrepreneur, mother, and lover of tablescapes based in the UAE.</p>"
    },
    {
      "type": "header",
      "content": "CTA Button"
    },
    {
      "type": "text",
      "id": "cta_title",
      "label": "Section CTA title",
      "default": "VIEW WHOLE STORY"
    },
    {
      "type": "url",
      "id": "cta_url",
      "label": "Section CTA URL",
    },
  ],
  "presets": [
    {
      "name": "Founder Section",
    }
  ]
}
{% endschema %}
